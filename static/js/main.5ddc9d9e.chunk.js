(this["webpackJsonpconvert-movie-app"]=this["webpackJsonpconvert-movie-app"]||[]).push([[0],{16:function(e,t,s){},17:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var i=s(0),c=s(10),n=s.n(c),a=(s(16),s(17),s(4)),r=s(6),o=s(1),l=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),s=t[0],c=t[1],n=Object(i.useState)([]),l=Object(a.a)(n,2),j=(l[0],l[1]);return Object(o.jsxs)("header",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"",className:"Navbar_Home",children:"Horror Movie 2021"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/component/Wishlist",className:"Navbar_Wishlist",children:"Wishlist"})}),Object(o.jsx)("form",{id:"form",children:Object(o.jsx)("input",{type:"text",placeholder:"Search",id:"search",className:"search",value:s,onChange:function(e){e.preventDefault(),c(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?with_genres=27&primary_release_year=2021&api_key=80689e52a4f65d58050c47dc30e5c578&query=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){console.log(e),e.errors?j([]):j(e.results)}))}})})]})},j=s(11),h=s(8),d=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WISHLIST":return Object(h.a)(Object(h.a)({},e),{},{wishlist:[t.payload].concat(Object(j.a)(e.wishlist))});case"REMOVE_MOVIE_FROM_WISHLIST":return Object(h.a)(Object(h.a)({},e),{},{wishlist:e.wishlist.filter((function(e){return e.id!==t.payload}))});default:return e}},b={wishlist:localStorage.getItem("wishlist")?JSON.parse(localStorage.getItem("wishlist")):[]},O=Object(i.createContext)(b),m=function(e){var t=Object(i.useReducer)(d,b),s=Object(a.a)(t,2),c=s[0],n=s[1];Object(i.useEffect)((function(){localStorage.setItem("wishlist",JSON.stringify(c.wishlist))}),[c]);return Object(o.jsx)(O.Provider,{value:{wishlist:c.wishlist,addMovieToWishList:function(e){n({type:"ADD_MOVIE_TO_WISHLIST",payload:e})},removeMovieFromWishList:function(e){n({type:"REMOVE_MOVIE_FROM_WISHLIST",payload:e})}},children:e.children})},u=function(e){var t=e.movie,s=Object(i.useContext)(O),c=s.addMovieToWishList,n=!!s.wishlist.find((function(e){return e.id===t.id}));return Object(o.jsxs)("div",{className:"result-card",children:[Object(o.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(o.jsx)("div",{className:"filler-poster"})}),Object(o.jsx)("div",{className:"info",children:Object(o.jsxs)("div",{className:"Info_Header",children:[Object(o.jsxs)("h3",{className:"movie-info",children:[t.title," ",Object(o.jsx)("span",{className:v(t.vote_average),children:t.vote_average})]}),Object(o.jsx)("div",{className:"controls",children:Object(o.jsx)("button",{className:"btn",disabled:n,onClick:function(){return c(t)},children:"Add to Wishlist"})})]})})]})};function v(e){return e>=7?"green":e>=5.5?"orange":" red"}var p=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),s=t[0],c=t[1];return fetch("https://api.themoviedb.org/3/discover/movie?with_genres=27&api_key=80689e52a4f65d58050c47dc30e5c578").then((function(e){return e.json()})).then((function(e){e.errors?c([]):c(e.results)})),Object(o.jsxs)("div",{children:[Object(o.jsxs)("main",{id:"main",children:[s.length>0&&Object(o.jsx)("ul",{className:"movie",children:s.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(u,{movie:e})},e.id)}))}),";"]}),Object(o.jsx)("div",{className:"Identitas",children:Object(o.jsx)("a",{href:"https://www.linkedin.com/in/kahfi-rizky/",className:"Identitas",children:"Created by : Kahfi Rizky Kosasih"})})]})},x=function(e){var t=e.movie,s=(e.type,Object(i.useContext)(O).removeMovieFromWishList);return Object(o.jsx)("div",{className:"Remove",children:Object(o.jsx)("button",{className:"rmv-btn",onClick:function(){return s(t.id)},children:"Remove Movie"})})},f=function(e){var t=e.movie,s=e.type;return Object(o.jsx)("div",{className:"main-wish",children:Object(o.jsxs)("div",{className:"wish-card",children:[t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(o.jsx)("div",{className:"filler-poster"}),Object(o.jsx)(x,{type:s,movie:t})]})})},g=function(){var e=Object(i.useContext)(O).wishlist;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"Header_Wish",children:" My Wishlist"}),Object(o.jsx)("main",{id:"main",children:e.length>0?Object(o.jsx)("div",{className:"movie",children:e.map((function(e){return Object(o.jsx)(f,{movie:e})}))}):Object(o.jsx)("h2",{className:"no-movies",children:"TAMBAHKAN WISHLIST MU ! ! !"})}),Object(o.jsx)("div",{className:"Identitas",children:Object(o.jsx)("a",{href:"https://www.linkedin.com/in/kahfi-rizky/",className:"Identitas",children:"Created by : Kahfi Rizky Kosasih"})})]})},N=s(2);var w=function(){return Object(o.jsx)(m,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l,{}),Object(o.jsxs)(N.c,{children:[Object(o.jsx)(N.a,{path:"",element:Object(o.jsx)(p,{})}),Object(o.jsx)(N.a,{path:"/component/Wishlist",element:Object(o.jsx)(g,{})})]})]})})},_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(t){var s=t.getCLS,i=t.getFID,c=t.getFCP,n=t.getLCP,a=t.getTTFB;s(e),i(e),c(e),n(e),a(e)}))};n.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(w,{})}),document.getElementById("root")),_()}},[[19,1,2]]]);
//# sourceMappingURL=main.5ddc9d9e.chunk.js.map